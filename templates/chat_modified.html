
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CAM-Lite</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <link rel="stylesheet" href="/static/stylesheet.css">

    <script>
        // Keeping the original script for sending messages
        function sendMessage() {
            const messageInput = document.getElementById('message');
            const chatWindow = document.getElementById('chat');

            fetch('/send_message', {
                method: 'POST',
                headers: {
                    'Content-Type': 'text/plain',
                },
                body: messageInput.value
            })
            .then(response => response.json())
            .then(data => {
                chatWindow.innerHTML += '<div class="user">You: <span class="user-message-content">' + messageInput.value + '</span></div>';
                chatWindow.innerHTML += '<div class="assistant">Assistant: <span class="assistant-response-content">' + data.response + '</span></div>';
                messageInput.value = '';
                messageInput.focus();
                chatWindow.scrollTop = chatWindow.scrollHeight;
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
        document.addEventListener('DOMContentLoaded', (event) => {
            const messageInput = document.getElementById('message');

            messageInput.addEventListener('keypress', function (e) {
                if (e.key === 'Enter') {
                    e.preventDefault(); // Prevent the default action (form submission)
                    if (messageInput.value.trim() !== '') {
                        sendMessage();
                    }
                }
            });
        });

    </script>
</head>
<body>
    <div id="app-container">
        <div id="headings">
            <h1>CAM-Lite</h1>
            <h3>Build 1.0 - 11.07.23</h3>
        </div>
    <div id="container">
        <div id="chat">
            <!-- Chat messages will go here -->
        </div>
        <input type="text" id="message" placeholder="Type a message...">
        <center><button onclick="sendMessage()">Send</button></center>
    </div>
</body>
</html>
